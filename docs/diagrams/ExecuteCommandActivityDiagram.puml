@startuml
skin rose
skinparam ActivityFontSize 15
skinparam ArrowFontSize 12
start
:User executes command;

if (Command modifies\naddress book?) then ([yes])
  :Call Model#saveState();
  :Save current state to undoStack;
  :Clear redoStack;
  :Execute command;
else ([no])
  :Execute command;
endif

:Return result to user;

stop
@enduml
